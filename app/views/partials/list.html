<div ng-include src='"views/partials/navbar.html"'></div>

<div class="row">
	<div class="col-sm-3 col-md-2 sidebar">
		<button class="btn btn-default add-btn btn-success" ng-click="newVideoAd();">
			<span><i class="fa fa-file-video-o"></i> Add Video</span>
		</button>
		<h2>Filter</h2>
		<ul class="nav nav-sidebar">
			<li>
				<a ng-click="params.filter = 'active';" ng-class="{'active': (params.filter == 'active' || params.filter == undefined)}">Active</a>
			</li>
	        <li>
	        	<a ng-click="params.filter = 'future'" ng-class="{'active': (params.filter == 'future')}">Future</a>
	        </li>
			<li>
				<a ng-click="params.filter = 'all'" ng-class="{'active': (params.filter == 'all')}">All</a>
			</li>
		</ul>
		<h2>Options</h2>
		<ul class="nav nav-sidebar">
			<li>
				<a href="/exclusion/global/">Manage Exclusions</a>
			</li>
			<li>
				<a href="javascript:if((window.metadata===undefined||window.metadata.targeting===undefined)&&(window.targeting===undefined)){alert('There aren\'t any targeting parameters on this page!');}else{var testing_url='http://videoads.theonion.com/test/?'; var targetingObj = (window.metadata && window.metadata.targeting) || window.targeting;for(var i in targetingObj){testing_url+=i;testing_url+='=';testing_url+=targetingObj[i];testing_url+='&'};window.open(testing_url, 'Video Ad Testing', 'width=400,height=400,menubar=no,toolbar=no,location=no,status=no');}">Video Ad Testing</a>
			</li>
		</ul>
	</div>
	<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
		<table class="table table-hover">
			<tr>
				<th>Client</th>
				<th>Name</th>
				<th>
					<a href="" ng-click="predicate = 'start'; reverse=!reverse; active = 'start'" ng-class="{active:active == 'start'}">
						<i class="fa fa-calendar"></i> Start <i class="fa" ng-class="{'fa-chevron-up' : predicate == 'start', 'fa-chevron-down' : predicate == 'start' && !reverse}"></i>
					</a>
				</th>
				<th>
					<a href="" ng-click="predicate = 'end'; reverse=!reverse; active = 'end'" ng-class="{active:active == 'end'}">
						<i class="fa fa-calendar"></i> End <i class="fa" ng-class="{'fa-chevron-up' : predicate == 'end', 'fa-chevron-down' : predicate == 'end' && !reverse}"></i>
					</a>
				</th>
				<th>External URL/Video</th>
				<th>
					<a href="" ng-click="predicate = '-delivery'; reverse=!reverse; active = 'delivery'" ng-class="{active:active == 'delivery'}">
						<i class="fa fa-bar-chart"></i> Delivery <i class="fa" ng-class="{'fa-chevron-up' : predicate == '-delivery', 'fa-chevron-down' : predicate == '-delivery' && !reverse}"></i>
					</a>
				</th>
				<th>Preview</th>
			</tr>
			<tr ng-repeat="videoad in videoAds | orderBy:predicate:reverse">
				<td>Old Spice</td>
				<td><a href="/edit/{{videoad.id}}/">{{videoad.name}}</a></td>
				<td>{{videoad.start|convertToLocal}}</td>
				<td>{{videoad.end|convertToLocal}}</td>
				<td ng-show="videoad.vast_url">{{videoad.vast_url}}</td>
				<td ng-hide="videoad.vast_url">{{videoad.video.name}}</td>
				<td>
					<impressionschart impressions="{{videoad.delivery}}"></impressionschart>
				</td>
				<td><img class="video-poster" src="images/thumb.png" alt=""/></td>
			</tr>
		</table>
		<ul>
			<li ng-repeat="videoad in videoAds | orderBy:predicate:reverse" class="video-ad-container">
				<td>Old Spice</td>
				<td><a href="/edit/{{videoad.id}}/">{{videoad.name}}</a></td>
				<td>{{videoad.start|convertToLocal}}</td>
				<td>{{videoad.end|convertToLocal}}</td>
				<td ng-show="videoad.vast_url">{{videoad.vast_url}}</td>
				<td ng-hide="videoad.vast_url">{{videoad.video.name}}</td>
				<td>
					<impressionschart impressions="{{videoad.delivery}}"></impressionschart>
				</td>
				<td><img class="video-poster" src="images/thumb.png" alt=""/></td>
			</li>
		</ul>
    	<pagination total-items="totalItems" items-per-page="5" ng-model="currentPage" ng-change="changePage(page);"></pagination>
	</div>
</div>
